<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<title>Test Application</title>
		<style type="text/css">
			@import "./app.css";
		</style>
	</head>
	<body>
		<div class="layout-container layout-nav" data-layout-role="container" id="layout-nav">
			<nav>
				<ul>
					<li><button type="button" data-action-click="init" data-operation="blog-new_post_init" data-operation-container="layout-main">Create Blog Post</button></li>
				</ul>
			</nav>
		</div>
		<div class="layout-container layout-secondary" data-layout-role="container" id="layout-secondary"></div>
		<div class="layout-container layout-main" data-layout-role="container" id="layout-main"></div>
		<script type="text/html" id="blog-new_post_init" data-template-name="blog/post/form">
			<form action="#" data-action-submit="create">
				<h1>New Blog Post</h1>
				<p>
					<label>Title: <input type="text" size="60" name="title" id="blog-post-title" value="#{title}"></label>
				</p>
				<p>
					<label>Date: <input type="text" size="60" name="publish_date" id="blog-post-publish_date" value="#{publish_date}"></label>
				</p>
				<p>
					<label for="blog-post-body">Body</label><br>
					<textarea rows="18" cols="60" name="body" id="blog-post-body">#{body}</textarea>
				</p>
				<p>
					<button type="button" data-action-click="blog-cancel_new_post">Cancel</button>
					<button type="submit">Create</button>
				</p>
			</form>
		</script>
		<script type="text/javascript" src="/src/lib/patches/Function.js"></script>
		<script type="text/javascript" src="/src/lib/patches/String.js"></script>
		<script type="text/javascript" src="/src/lib/dom/events/Delegator.js"></script>
		<script type="text/javascript" src="/src/lib/dom/events/action.js"></script>
		<script type="text/javascript" src="/src/lib/OperationFactory.js"></script>
		<script type="text/javascript" src="/src/lib/events/Dispatcher.js"></script>
		<script type="text/javascript" src="/src/lib/events/Publisher.js"></script>
		<script type="text/javascript" src="/src/lib/events/Event.js"></script>
		<script type="text/javascript" src="/src/lib/Template.js"></script>
		<script type="text/javascript" src="/src/framework/views/BaseView.js"></script>
		<script type="text/javascript" src="/src/framework/views/FormView.js"></script>
		<script type="text/javascript" src="/src/framework/models/BaseModel.js"></script>
		<script type="text/javascript" src="/src/lib/BaseModel/Publisher.js"></script>
		<script type="text/javascript" src="/src/lib/BaseModel/BasicValidation.js"></script>
		<script type="text/javascript" src="/src/lib/BaseModel/ExtendedValidation.js"></script>
		<script type="text/javascript" src="/src/lib/BaseModel/Serialization.js"></script>
		<script type="text/javascript" src="/src/lib/BaseModel/Serialization/QueryString.js"></script>
		<script type="text/javascript" src="/src/lib/BaseModel/TemplateDataKeys.js"></script>
		<script type="text/javascript" src="/src/framework/operations/BaseOperation.js"></script>
		<script type="text/javascript" src="/src/framework/operations/BootOperation.js"></script>
		<script type="text/javascript" src="/src/framework/operations/InitOperation.js"></script>
		<script type="text/javascript" src="/src/framework/operations/SubOperation.js"></script>
		<script type="text/javascript" src="/src/framework/application/Application.js"></script>
		<script type="text/javascript" src="./blog/NewPostInitOperation.js"></script>
		<script type="text/javascript" src="./blog/PostFormView.js"></script>
		<script type="text/javascript" src="./blog/Post.js"></script>
		<script type="text/javascript">
			var app = new Application();
			app.document = document;
			app.operationFactory = new OperationFactory();
			app.eventDispatcher = new events.Dispatcher();
			app.delegator = new dom.events.Delegator();
			app.init();

			window.onunload = function() {
				app.destructor();
				app = null;
			};
		</script>
	</body>
</html>
